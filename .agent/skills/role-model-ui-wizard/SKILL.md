name: "role-model-ui-wizard"

description: "ユーザーの適性を診断するためのステップ形式の質問フォームと、診断結果（ロールモデル）をアニメーション付きで表示するUIコンポーネントを実装する。"

version: "1.0.0"

author: "OWLight Development Team"

tags: \["feature", "role-model", "ui-component"]

triggers:

&nbsp; - "診断ウィザード"

&nbsp; - "適性検査UI"

&nbsp; - "Diagnosis Wizard"

---



\## 概要



ユーザーが自身の志向性や強みを発見するための「ロールモデル診断ウィザード」を実装します。

質問に対して「はい/いいえ」や5段階評価で回答するステップ形式のUIを提供し、最終ステップで `role-model-api-match` を呼び出して結果を判定します。診断結果画面では、決定したロール（フクロウのタイプ）をリッチなアニメーションと共に発表し、ユーザーのモチベーションを高めます。



\## このスキルが前提とするもの



\- `role-model-api-match` スキルにより、診断API (`POST /api/v1/role-models/match`) が実装済みであること

\- UI ガイドライン（Teal #218F8D）および共通コンポーネント（Button, ProgressBar, Card）が利用可能であること

\- アニメーションライブラリ（Framer Motion 等）が導入されていること



\## 実装内容



\### UI 実装



\*\*コンポーネント：RoleDiagnosisWizard.tsx\*\*



\- 機能：多段階の質問フォーム管理

\- 状態管理：現在のステップ番号、各質問への回答スコア

\- UI要素：

&nbsp; - \*\*プログレスバー\*\*: 全体の進捗率（例: 3/10問目）を表示。

&nbsp; - \*\*質問カード\*\*: 大きな文字で質問を表示し、選択肢（ボタンまたはスライダー）を配置。

&nbsp; - \*\*ナビゲーション\*\*: 「次へ」「戻る」ボタン（回答するまで「次へ」は無効化）。

\- 動作：

&nbsp; - 最後の質問に回答後、APIへデータを送信。

&nbsp; - ローディング画面（「診断中...」）を経て結果画面へ遷移。



\*\*コンポーネント：DiagnosisResult.tsx\*\*



\- 機能：診断結果（割り当てられたロール）の表示

\- UI要素：

&nbsp; - \*\*ロールアイコン\*\*: 決定したフクロウのイラストを大きく表示。

&nbsp; - \*\*ロール名 \& キャッチコピー\*\*: タイトルと説明文。

&nbsp; - \*\*マッチ度\*\*: スコア（例: "適合率 92%"）を表示。

&nbsp; - \*\*CTAボタン\*\*: 「プロフィールに設定して開始する」



\*\*画面レイアウト\*\*



\- 配置：初回ログイン後のオンボーディング、または設定画面からモーダルとして起動

\- デザイン：没入感を高めるため、ヘッダー/フッターを排除した集中モード（Focus Mode）推奨

\- レスポンシブ：モバイルでも片手で回答しやすいボタン配置



\## 参考資料



\- `/docs/03\_SCREEN\_DESIGN.md` （診断画面のワイヤーフレーム）

\- `/docs/05\_UI\_UX\_GUIDELINES.md` （アニメーションとトランジションの基準）

\- `/docs/04\_API\_SPECIFICATION.md` （診断APIのI/F）



\## チェックリスト



実装完了時に、以下をすべて確認：



\- \[ ] `RoleDiagnosisWizard.tsx` でステップごとの画面遷移がスムーズに行えること

\- \[ ] 回答データが正しくステートに蓄積されていること

\- \[ ] 最終ステップで API に回答データを送信できること

\- \[ ] API からのエラーハンドリング（通信エラー等）が実装されていること

\- \[ ] `DiagnosisResult.tsx` で API レスポンス（ロール情報）が正しく表示されること

\- \[ ] プログレスバーが進捗に応じて動くこと

\- \[ ] モバイル端末（375px）でレイアウト崩れがないこと



\## 補足・注意事項



\- 診断の質問内容はハードコードせず、設定ファイルまたは定数ファイル（`constants/diagnosis-questions.ts`）に切り出して管理し、後から容易に変更できるようにしてください。

\- 結果発表時の演出（紙吹雪やフェードイン）は、Framer Motion などのライブラリを活用して「ワクワク感」を演出してください。

