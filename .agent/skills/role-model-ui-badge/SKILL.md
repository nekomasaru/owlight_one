name: "role-model-ui-badge"

description: "ユーザーのプロフィールやダッシュボードに、割り当てられたロールモデル（役割タイプ）をアイコンとツールチップで表示するUIコンポーネントを実装する。"

version: "1.0.0"

author: "OWLight Development Team"

tags: \["feature", "role-model", "ui-component"]

triggers:

&nbsp; - "ロールバッジ"

&nbsp; - "役割アイコン"

&nbsp; - "Role Badge"

---



\## 概要



診断結果としてユーザーに割り当てられた「ロールモデル（例：革新的な開拓者）」を視覚的に表示するバッジコンポーネントを実装します。

プロフィール画面、ヘッダー、活動ログの投稿者情報など、様々な箇所で再利用可能な設計とし、ホバー時にはロールの詳細説明をツールチップで表示して、他者への理解（相互理解）を促進します。



\## このスキルが前提とするもの



\- `role-model-api-match` スキル完了（データ構造が確定していること）

\- `roles` および `role\_models` テーブルにデータが存在すること

\- UI ガイドライン（Teal #218F8D）および共通コンポーネント（Tooltip, Skeleton, Avatar）が利用可能であること



\## 実装内容



\### UI 実装



\*\*コンポーネント：RoleBadge.tsx\*\*



\- \*\*機能\*\*: ロール情報の表示（アイコン＋テキスト）

\- \*\*Props\*\*:

&nbsp; - `role`: ロールオブジェクト `{ key, name, icon\_url, description }` | `null`

&nbsp; - `size`: `'sm' | 'md' | 'lg'` (デフォルト: 'md')

&nbsp; - `showLabel`: `boolean` (アイコン横にテキストを表示するか)

&nbsp; - `withTooltip`: `boolean` (ホバー時に説明を表示するか)

\- \*\*状態表示\*\*:

&nbsp; - \*\*Loading\*\*: スケルトン（円形）を表示。

&nbsp; - \*\*Empty (`role` is null)\*\*: 「未診断」バッジ、または診断ウィザードへのリンクボタン（CTA）を表示（コンテキストによる）。

&nbsp; - \*\*Assigned\*\*: 指定された `icon\_url` の画像を表示し、枠線をロール固有の色（またはTeal）で装飾。



\*\*コンポーネント：RoleTooltip.tsx\*\*



\- \*\*機能\*\*: `RoleBadge` をラップし、ホバー時に詳細を表示する。

\- \*\*内容\*\*: ロール名（太字）、説明文、および「このタイプの強み」などの補足情報。



\*\*画面レイアウト\*\*



\- \*\*プロフィール画面\*\*: 名前（`display\_name`）の横、またはアバターの下に `size="lg"` で配置。

\- \*\*タイムライン/チャット\*\*: ユーザー名の横に `size="sm"` `showLabel={false}` で配置。



\## 参考資料



\- `/docs/03\_SCREEN\_DESIGN.md` （プロフィール画面およびバッジのデザイン）

\- `/docs/05\_UI\_UX\_GUIDELINES.md` （アイコンサイズ、ツールチップのスタイル）

\- `/docs/01\_DATABASE\_SCHEMA.md` （rolesテーブルの定義）



\## チェックリスト



実装完了時に、以下をすべて確認：



\- \[ ] `RoleBadge.tsx` が実装され、指定されたサイズで表示されること

\- \[ ] `role` データが渡された場合に正しいアイコンと名前が表示されること

\- \[ ] ホバー時にツールチップが表示され、`description` が読めること

\- \[ ] データ読み込み中（Loading）にスケルトンが表示されること

\- \[ ] 未診断（`null`）の場合に、診断ページへの誘導（またはプレースホルダー）が表示されること

\- \[ ] 画像の読み込みエラー時にフォールバック用アイコンが表示されること

\- \[ ] モバイル端末でもツールチップ（またはタップ時のポップオーバー）が機能すること



\## 補足・注意事項



\- ロールのアイコン画像はSVG形式を推奨し、ダークモード時でも視認性が確保できる配色に調整してください。

\- バッジをクリックした際に、そのロールを持つ他のユーザー一覧ページへ遷移する機能は、将来的な拡張（`role-directory-ui`）として考慮しておいてください。

