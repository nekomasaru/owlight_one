name: "admin-ui-layout"

description: "管理者（Admin/Manager）専用画面のための、サイドバーナビゲーション付きの共通レイアウトコンポーネントを実装する。"

version: "1.0.0"

author: "OWLight Development Team"

tags: \["feature", "admin-console", "ui-component"]

triggers:

&nbsp; - "管理者レイアウト"

&nbsp; - "Admin Sidebar"

&nbsp; - "Dashboard Layout"

---



\## 概要



一般ユーザー向けの画面とは異なる、管理者（Admin/Manager）専用の操作画面レイアウトを実装します。

左側に固定されたサイドバーには「ユーザー管理」「プロンプト管理」「システム設定」などの管理機能へのリンクを配置し、メインコンテンツエリアの可読性を確保します。また、管理者であることを示すヘッダー表示や、一般ユーザーによる誤アクセス時のリダイレクト処理（認可ガード）も含みます。







\## このスキルが前提とするもの



\- UI ガイドライン（Teal #218F8D）および共通コンポーネント（Sidebar, Breadcrumb）が利用可能であること

\- 認証基盤により `current\_user` のロール情報（`role`）が取得できること

\- アイコンライブラリ（Lucide React 等）が導入されていること



\## 実装内容



\### UI 実装



\*\*コンポーネント：AdminLayout.tsx\*\*



\- \*\*機能\*\*: 管理画面全体のラッパーコンポーネント

\- \*\*レイアウト\*\*:

&nbsp; - \*\*サイドバー (Left)\*\*: 幅250px固定。ロゴ、メニューリスト、ログアウトボタン。

&nbsp; - \*\*ヘッダー (Top)\*\*: パンくずリスト、管理者アバター、「管理者モード」バッジ。

&nbsp; - \*\*メイン (Center)\*\*: `children` を表示するスクロール可能エリア。

\- \*\*メニュー項目\*\*:

&nbsp; - Dashboard (Home)

&nbsp; - User Management (Users)

&nbsp; - Prompt Engineering (FileText)

&nbsp; - System Settings (Settings)

\- \*\*認可制御\*\*:

&nbsp; - `useAuth` フック等でユーザーのロールを確認。

&nbsp; - `role !== 'admin' \&\& role !== 'manager'` の場合、トップページへリダイレクト（または403画面表示）。



\*\*コンポーネント：AdminSidebar.tsx\*\*



\- \*\*機能\*\*: ナビゲーションリンクの表示

\- \*\*状態\*\*: 現在のパスに基づいてアクティブなメニューをハイライト表示（Teal背景 + 白文字）。



\*\*画面レイアウト\*\*



\- レスポンシブ:

&nbsp; - PC: 2カラムレイアウト（サイドバー常時表示）。

&nbsp; - モバイル: サイドバーはハンバーガーメニュー内に収納し、ドロワーとして展開。



\## 参考資料



\- `/docs/03\_SCREEN\_DESIGN.md` （管理画面のレイアウト設計）

\- `/docs/05\_UI\_UX\_GUIDELINES.md` （ナビゲーションのスタイル）

\- `/docs/04\_API\_SPECIFICATION.md` （権限仕様）



\## チェックリスト



実装完了時に、以下をすべて確認：



\- \[ ] `AdminLayout.tsx` を適用したページでサイドバーが表示されること

\- \[ ] 管理者以外のユーザーがアクセスした際にリダイレクトされること

\- \[ ] 現在のページに対応するサイドバーのメニューがハイライトされること

\- \[ ] モバイル表示時にハンバーガーメニューが機能すること

\- \[ ] ヘッダーに「管理者モード」等の識別表示があること

\- \[ ] メインコンテンツエリアが適切にスクロールすること（サイドバーは固定）



\## 補足・注意事項



\- 管理画面は業務効率を優先し、アニメーションなどの装飾は控えめに、情報の密度を高めたデザインにしてください。

\- リンク先（`/admin/users` 等）のページコンポーネント自体はこのスキルには含まれません（枠組みのみの実装）。

