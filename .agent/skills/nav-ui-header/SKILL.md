name: "nav-ui-header"

description: "検索バー、通知ベル、ユーザーアバターを統合し、全ページ共通で表示されるグローバルヘッダーコンポーネントを実装する。"

version: "1.0.0"

author: "OWLight Development Team"

tags: \["feature", "navigation", "ui-component"]

triggers:

&nbsp; - "ヘッダー実装"

&nbsp; - "Global Header"

&nbsp; - "ナビゲーションバー"

---



\## 概要



アプリケーションの最上部に常駐し、ユーザーがどこにいても主要な機能（検索、通知確認、プロフィール設定）にアクセスできるグローバルヘッダーを実装します。

`search-ui-bar` スキルで作成した検索コンポーネントを中央に配置し、右側には未読バッジ付きの通知アイコンと、クリックでメニューが展開するユーザーアバターを配置します。







\## このスキルが前提とするもの



\- `search-ui-bar` スキルにより、`GlobalSearchBar` コンポーネントが実装済みであること

\- 認証基盤（`auth-api-session`）により、ログインユーザーのアバター画像や氏名が取得可能であること

\- UI ガイドライン（Teal #218F8D）および共通コンポーネント（Button, Avatar, DropdownMenu）が利用可能であること



\## 実装内容



\### UI 実装



\*\*コンポーネント：GlobalHeader.tsx\*\*



\- \*\*機能\*\*: 全画面共通のヘッダーレイアウト

\- \*\*配置\*\*: `sticky top-0 z-40`（スクロール追従、他の要素より前面に表示）

\- \*\*構成要素\*\*:

&nbsp; - \*\*Left\*\*: アプリロゴ（クリックで `/home` または `/` へ遷移）。

&nbsp; - \*\*Center\*\*: `GlobalSearchBar`（PC時は常に表示、幅を確保）。

&nbsp; - \*\*Right\*\*:

&nbsp;   - \*\*NotificationBell\*\*: 未読件数バッジ付きのベルアイコン。

&nbsp;   - \*\*UserMenu\*\*: ユーザーアバター。クリックでドロップダウンを表示。



\*\*コンポーネント：UserMenuDropdown.tsx\*\*



\- \*\*機能\*\*: ユーザー関連のアクションメニュー

\- \*\*トリガー\*\*: アバター画像をクリック

\- \*\*メニュー項目\*\*:

&nbsp; - プロフィール (`/profile`)

&nbsp; - 設定 (`/settings`)

&nbsp; - ヘルプ (`/help`)

&nbsp; - ログアウト（Separatorで区切る）



\*\*画面レイアウト\*\*



\- \*\*PC\*\*: ロゴ・検索バー・アイコン群を横並び（Flexbox `justify-between`）。

\- \*\*モバイル\*\*:

&nbsp; - ロゴとハンバーガーメニュー（またはアバター）を表示。

&nbsp; - 検索バーはアイコン化し、タップで展開するか、ヘッダー下部に常時表示する形に調整。



\## 参考資料



\- `/docs/03\_SCREEN\_DESIGN.md` （ヘッダーのデザイン仕様）

\- `/docs/05\_UI\_UX\_GUIDELINES.md` （Z-indexの管理ルール、ナビゲーションの階層）



\## チェックリスト



実装完了時に、以下をすべて確認：



\- \[ ] `GlobalHeader.tsx` が画面上部に固定表示されること

\- \[ ] 中央に `GlobalSearchBar` が配置され、機能すること

\- \[ ] ユーザーアバターが表示され、画像がない場合はイニシャル等のフォールバックが表示されること

\- \[ ] アバタークリックでドロップダウンメニューが開閉すること

\- \[ ] ログアウトボタンが機能すること

\- \[ ] 通知ベルアイコンが表示されること（バッジ表示ロジックはモックでも可）

\- \[ ] モバイル幅（375px）でレイアウトが崩れず、検索機能にアクセスできること



\## 補足・注意事項



\- ヘッダーは全ページで読み込まれるため、不要な再レンダリングが発生しないよう注意してください（特に検索バーの入力時など）。

\- `z-index` は、モーダルやトースト通知よりは低く、メインコンテンツよりは高い値（例: 40〜50）を設定してください。

