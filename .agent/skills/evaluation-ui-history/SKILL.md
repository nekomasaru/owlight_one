name: "evaluation-ui-history"

description: "自身が受け取ったピアボーナス（称賛）と過去の評価面談ログを一覧表示し、成長と貢献を振り返るためのUIコンポーネントを実装する。"

version: "1.0.0"

author: "OWLight Development Team"

tags: \["feature", "evaluation", "ui-component"]

triggers:

&nbsp; - "褒賞履歴"

&nbsp; - "フィードバック一覧"

&nbsp; - "History UI"

---



\## 概要



ユーザーがこれまでに同僚から受け取った「感謝のメッセージ（ピアボーナス）」と、過去に実施した「1on1ミーティングの記録（フィードバック）」を確認できる履歴画面を実装します。

モチベーションの維持と、過去の自己評価・他者評価を振り返ることによる成長サイクルの確立を目的としており、タブ切り替えによって情報を整理して表示します。







\## このスキルが前提とするもの



\- `evaluation-api-submit` スキル完了（データ構造が確定していること）

\- `feedback\_sessions` および `peer\_rewards` テーブルにデータが存在すること

\- UI ガイドライン（Teal #218F8D）および共通コンポーネント（Tabs, Card, Avatar）が利用可能であること



\## 実装内容



\### UI 実装



\*\*コンポーネント：EvaluationHistoryTabs.tsx\*\*



\- 機能：履歴表示のコンテナ（タブ切り替え）

\- タブ構成：

&nbsp; 1. \*\*Received Thanks (称賛)\*\*: ピアボーナスの履歴

&nbsp; 2. \*\*Feedback Logs (面談)\*\*: 1on1の実施記録



\*\*コンポーネント：PeerRewardList.tsx\*\*



\- 機能：受け取った称賛のリスト表示

\- API：`GET /api/v1/evaluation/peer-rewards?type=received` (ページネーション対応)

\- 要素：

&nbsp; - \*\*送信者情報\*\*: アバターと名前。

&nbsp; - \*\*メッセージ\*\*: 感謝の言葉（吹き出しデザイン推奨）。

&nbsp; - \*\*ポイント\*\*: "+10pt" などのバッジ表示。

&nbsp; - \*\*日付\*\*: 相対表記（例: "3日前"）。



\*\*コンポーネント：FeedbackHistoryList.tsx\*\*



\- 機能：過去の評価面談ログのリスト表示

\- API：`GET /api/v1/evaluation/feedback-sessions`

\- 要素：

&nbsp; - \*\*実施日\*\*: `YYYY/MM/DD`

&nbsp; - \*\*評価者\*\*: マネージャー名。

&nbsp; - \*\*ステータス\*\*: 完了/下書きなどのステータスバッジ。

&nbsp; - \*\*アクション\*\*: 「詳細を見る」ボタン（クリックでモーダルまたは詳細ページへ）。



\*\*画面レイアウト\*\*



\- 配置：マイページの「評価」セクション。

\- デザイン：

&nbsp; - リスト項目はカード形式で、影を薄くしてフラットに見せる。

&nbsp; - データがない場合（Empty State）は、「まだ履歴がありません。まずは自分から感謝を伝えてみましょう！」等のポジティブなメッセージを表示。



\## 参考資料



\- `/docs/03\_SCREEN\_DESIGN.md` （履歴画面のデザイン）

\- `/docs/05\_UI\_UX\_GUIDELINES.md` （リスト表示とエンプティステートのガイドライン）

\- `/docs/04\_API\_SPECIFICATION.md` （APIレスポンス定義）



\## チェックリスト



実装完了時に、以下をすべて確認：



\- \[ ] `EvaluationHistoryTabs.tsx` でタブ切り替えがスムーズに動作すること

\- \[ ] `PeerRewardList.tsx` で受け取った称賛データが表示されること

\- \[ ] `FeedbackHistoryList.tsx` で過去の面談記録が表示されること

\- \[ ] APIデータ取得中（Loading）にスケルトンが表示されること

\- \[ ] データが0件の場合に適切なエンプティステートが表示されること

\- \[ ] ページネーション（または「もっと見る」ボタン）が機能すること

\- \[ ] スマートフォン表示時にレイアウトが崩れないこと（特にテーブル形式ではなくカード形式を採用）



\## 補足・注意事項



\- データ取得用のGET APIは、`evaluation-api-submit` で作成したコントローラーに追加するか、汎用的な検索API (`search-api-unified`) を利用するか、バックエンドの実装状況に合わせて調整してください。ここではSWR等での取得ロジック実装を含みます。

\- 過去の評価データは機微情報を含むため、表示権限（自分とマネージャーのみ）がAPI側で正しく制御されていることを前提としますが、UI側でも他人のIDでアクセスできないよう配慮してください。

